## 名词定义

- 项目中文名 - 
- 项目英文名 - 

- 管理员 - admin
- 电池 - battery
- 充电站 - station
- 充电柜 - equipment
- 充电模块 - module
- 整流模块 - rectification_module
- 


## 规范
- 数据库表字段名使用下划线格式
- 数量都用 count(比如module_count)

## Develop

- 目前开发通信部分，直接运行serverStart.java 

### Netty

#### 缺省定义

- 版本 0x01
- 序列号域 0xFF
- 预留 每一字节都为0x00

自拟充电桩编码

```
31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32
```

> 目前校验和未实现，随便补充一字节


#### 报文


##### 握手

握手 c => s

```
AA F5 54 00 01 FF 6a 00 00 00 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 00 00 00 01 00 00 00 01 04 00 64 04 0f 01 00 00 00 20 18 01 29 11 28 23 ff 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 79
```

握手应答 s => c

```
 aa f5 0d 00 01 ff 69 00 00 00 00 00 69
```

##### 心跳

请求 c => s

```
AA F5 2d 00 01 FF 66 00 00 00 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 01 00 79
```

响应 s => c

```
aa f5 0d 00 01 ff 65 00 00 00 00 01 66
```


##### 告警

请求 c => s

```
AA F5 4d 00 01 FF 6c 00 00 00 00 00 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 31 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 32 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 79 
```

## Deploy



## 业务流程

```
管理员
|- 普通管理员
|- 超级管理员
```
超级管理员初始化

初始化充电仓
id


```
充电桩
|- 整流模块 1~2
    |- 整流模块所属厂家
    |- 环境温度
    |- DC散热器温度
    |- PFC 散热器温度
    |- 风扇转速
    |- 三相输入电压
    |- 母线电压
    |- 母线电流 
|- 1~100 个接口
    |- 状态: 充电中/绿色、故障/红色、空闲/黄色
    |- 电池（充电中）
        |- 电压 充电中显示 
        |- 电流 充电中显示
        |- 开始时候soc
        |- 当前soc
        |- 开始时候剩余容量
        |- 当前时候剩余容量
        |- 已充电时长
        |- 循环次数
        |- 三天的图表显示电流和电压
|- 桩状态
    |- 温度
    |- 湿度
    |- 
```

